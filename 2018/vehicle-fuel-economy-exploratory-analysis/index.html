<!DOCTYPE html>
<html lang="en-us">
  <head>
    
    <script type="application/ld+json">

{  
  "@context":"http://schema.org",
  "@type":"Website",
  "@id":"https:\/\/nitinahuja.github.io\/",
  "author": {
    "@type": "Person",
    "name": "Nitin Ahuja",
    
    "image": "https://www.gravatar.com/avatar/2a9756e94950a1dabeb63034558f787d"
    
  },
  "name":"A programmer\u0027s viewpoint",
  "description":"Introduction In this post, we are going to look at some publicly available data to dig deeper into exploratory data analysis and machine learning techniques. I am going to start by fetching some data from the inter webs, this data is available at the FuelEconomy.gov site. This file has fuel economy data for all cars sold in the United States for several years.\nLet’s start by loading the libraries we need:",
  "url":"https:\/\/nitinahuja.github.io\/2018\/vehicle-fuel-economy-exploratory-analysis\/",
  "keywords":"[]"
}

</script>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.98.0 with theme Tranquilpeak 0.5.3-BETA">
<meta name="author" content="Nitin Ahuja">
<meta name="keywords" content="">
<meta name="description" content="Introduction In this post, we are going to look at some publicly available data to dig deeper into exploratory data analysis and machine learning techniques. I am going to start by fetching some data from the inter webs, this data is available at the FuelEconomy.gov site. This file has fuel economy data for all cars sold in the United States for several years.
Let’s start by loading the libraries we need:">


<meta property="og:description" content="Introduction In this post, we are going to look at some publicly available data to dig deeper into exploratory data analysis and machine learning techniques. I am going to start by fetching some data from the inter webs, this data is available at the FuelEconomy.gov site. This file has fuel economy data for all cars sold in the United States for several years.
Let’s start by loading the libraries we need:">
<meta property="og:type" content="article">
<meta property="og:title" content="Vehicle Fuel Economy - exploratory analysis">
<meta name="twitter:title" content="Vehicle Fuel Economy - exploratory analysis">
<meta property="og:url" content="https://nitinahuja.github.io/2018/vehicle-fuel-economy-exploratory-analysis/">
<meta property="twitter:url" content="https://nitinahuja.github.io/2018/vehicle-fuel-economy-exploratory-analysis/">
<meta property="og:site_name" content="A programmer&#39;s viewpoint">
<meta property="og:description" content="Introduction In this post, we are going to look at some publicly available data to dig deeper into exploratory data analysis and machine learning techniques. I am going to start by fetching some data from the inter webs, this data is available at the FuelEconomy.gov site. This file has fuel economy data for all cars sold in the United States for several years.
Let’s start by loading the libraries we need:">
<meta name="twitter:description" content="Introduction In this post, we are going to look at some publicly available data to dig deeper into exploratory data analysis and machine learning techniques. I am going to start by fetching some data from the inter webs, this data is available at the FuelEconomy.gov site. This file has fuel economy data for all cars sold in the United States for several years.
Let’s start by loading the libraries we need:">
<meta property="og:locale" content="en-us">

  
    <meta property="article:published_time" content="2018-11-21T00:00:00">
  
  
    <meta property="article:modified_time" content="2018-11-21T00:00:00">
  
  
  
    
      <meta property="article:section" content="Classification">
    
      <meta property="article:section" content="R">
    
  
  
    
      <meta property="article:tag" content="EDA">
    
      <meta property="article:tag" content="machine learning">
    
  


<meta name="twitter:card" content="summary">

  <meta name="twitter:site" content="@nitinahuja">


  <meta name="twitter:creator" content="@nitinahuja">






  <meta property="og:image" content="https://www.gravatar.com/avatar/2a9756e94950a1dabeb63034558f787d?s=640">
  <meta property="twitter:image" content="https://www.gravatar.com/avatar/2a9756e94950a1dabeb63034558f787d?s=640">




  <meta property="og:image" content="https://nitinahuja.github.io/img/car.jpg">
  <meta property="twitter:image" content="https://nitinahuja.github.io/img/car.jpg">


  <meta property="og:image" content="https://nitinahuja.github.io/img/car_thumb.jpg">
  <meta property="twitter:image" content="https://nitinahuja.github.io/img/car_thumb.jpg">


    <title>Vehicle Fuel Economy - exploratory analysis</title>

    <link rel="icon" href="https://nitinahuja.github.io/favicon.png">
    

    

    <link rel="canonical" href="https://nitinahuja.github.io/2018/vehicle-fuel-economy-exploratory-analysis/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-iBBXm8fW90+nuLcSKlbmrPcLa0OT92xO1BIsZ+ywDWZCvqsWgccV3gFoRBv0z+8dLJgyAHIhR35VZc2oM/gI1w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha512-H9jrZiiopUdsLpg94A333EfumgUBpO9MdbxStdeITo+KEIMaNfHNvwyjjDJb+ERPaRS6DpyRlKbvPUasNItRyw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    
    
    <link rel="stylesheet" href="https://nitinahuja.github.io/css/style-h6ccsoet3mzkbb0wngshlfbaweimexgqcxj0h5hu4h82olsdzz6wmqdkajm.min.css" />
    
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-105634890-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
    
    
    
      <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
      <link rel="stylesheet" href="https://nitinahuja.github.io/css/codefolding.css" />
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://nitinahuja.github.io/" aria-label="Go to homepage">A programmer&#39;s viewpoint</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://nitinahuja.github.io/#about" aria-label="Open the link: /#about">
    
    
    
      
        <img class="header-picture" src="https://www.gravatar.com/avatar/2a9756e94950a1dabeb63034558f787d?s=90" alt="Author&#39;s picture" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://nitinahuja.github.io/#about" aria-label="Read more about the author">
          <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/2a9756e94950a1dabeb63034558f787d?s=110" alt="Author&#39;s picture" />
        </a>
        <h4 class="sidebar-profile-name">Nitin Ahuja</h4>
        
          <h5 class="sidebar-profile-bio">A programmer&rsquo;s viewpoint</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nitinahuja.github.io/" title="Home">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nitinahuja.github.io/categories" title="Categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nitinahuja.github.io/tags" title="Tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nitinahuja.github.io/archives" title="Archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nitinahuja.github.io/#about" title="About">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/nitinahuja" target="_blank" rel="noopener" title="GitHub">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://nitinahuja.github.io/index.xml" title="RSS">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      
  <div class="post-header-cover
              text-left
              "
       style="background-image:url('/img/car.jpg')"
       data-behavior="4">
    
      <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title">
      Vehicle Fuel Economy - exploratory analysis
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time datetime="2018-11-21T00:00:00Z">
        
  November 21, 2018

      </time>
    
    
  
  
    <span>in</span>
    
      <a class="category-link" href="https://nitinahuja.github.io/categories/classification">Classification</a>, 
    
      <a class="category-link" href="https://nitinahuja.github.io/categories/r">R</a>
    
  

  </div>

  

<div id="code-folding-buttons" class="dropdown btn-group pull-right">
  <a class="btn btn-light btn-sm dropdown-toggle" href="#" role="button" id="allCodeToggleButton"
     data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Code
  </a>
  <div class="dropdown-menu" aria-labelledby="allCodeToggleButton">
    <a id="rmd-show-all-code" class="dropdown-item small" href="#">Show all</a>
    <a id="rmd-hide-all-code" class="dropdown-item small" href="#">Hide all</a>
  </div>
</div>


</div>
    
  </div>


      <div id="main" data-behavior="4"
        class="hasCover
               hasCoverMetaIn
               ">
        <article class="post" id="top">
          
          
          <div class="post-content markdown">
            <div class="main-content-wrap">
              


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>In this post, we are going to look at some publicly available data to dig deeper into exploratory data analysis and machine learning techniques.
I am going to start by fetching some data from the inter webs, this data is available at the <a href="http://www.fueleconomy.gov/feg/epadata/vehicles.csv.zip">FuelEconomy.gov</a> site.
This file has fuel economy data for all cars sold in the United States for several years.</p>
<p>Let’s start by loading the libraries we need:</p>
<p>We’ll try to load the file directly from the site. This allows us to get the most recent data from the internet.</p>
<pre class="r"><code>#temp &lt;- tempfile()
#download.file(&quot;http://www.fueleconomy.gov/feg/epadata/vehicles.csv.zip&quot;, temp)
#unz(temp, &quot;~/Downloads/vehicles.csv&quot;)
dt &lt;- data.table::fread(&quot;~/data/vehicles.csv&quot;, fill = TRUE)
#unlink(temp)

vehicles &lt;- as_tibble(dt)</code></pre>
<p>We have 44889 rows - that’s a lot of make and models.</p>
<p>Let’s take a look at what this data looks like using the excellent Skimr library for a succinct look.</p>
<pre class="r"><code>skim(vehicles)</code></pre>
<table>
<caption><span id="tab:unnamed-chunk-3">Table 1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">vehicles</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">44889</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">83</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">character</td>
<td align="left">23</td>
</tr>
<tr class="odd">
<td align="left">logical</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">numeric</td>
<td align="left">59</td>
</tr>
<tr class="odd">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: character</strong></p>
<table>
<colgroup>
<col width="19%" />
<col width="13%" />
<col width="19%" />
<col width="5%" />
<col width="5%" />
<col width="8%" />
<col width="12%" />
<col width="15%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">min</th>
<th align="right">max</th>
<th align="right">empty</th>
<th align="right">n_unique</th>
<th align="right">whitespace</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">drive</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">26</td>
<td align="right">1186</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">eng_dscr</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">46</td>
<td align="right">16803</td>
<td align="right">574</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">fuelType</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">27</td>
<td align="right">0</td>
<td align="right">14</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">fuelType1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">6</td>
<td align="right">17</td>
<td align="right">0</td>
<td align="right">6</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">make</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">3</td>
<td align="right">34</td>
<td align="right">0</td>
<td align="right">141</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">model</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">47</td>
<td align="right">0</td>
<td align="right">4628</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">mpgData</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">trany</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">32</td>
<td align="right">11</td>
<td align="right">41</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">VClass</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">34</td>
<td align="right">0</td>
<td align="right">34</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">guzzler</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">42261</td>
<td align="right">4</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">trans_dscr</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">15</td>
<td align="right">29845</td>
<td align="right">53</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">tCharger</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">35955</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">sCharger</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">43922</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">atvType</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">14</td>
<td align="right">40546</td>
<td align="right">9</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">fuelType2</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">11</td>
<td align="right">43088</td>
<td align="right">5</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">rangeA</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">11</td>
<td align="right">43093</td>
<td align="right">238</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">evMotor</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">51</td>
<td align="right">43360</td>
<td align="right">268</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">mfrCode</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">3</td>
<td align="right">30808</td>
<td align="right">53</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">c240Dscr</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">16</td>
<td align="right">44758</td>
<td align="right">6</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">c240bDscr</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">44</td>
<td align="right">44764</td>
<td align="right">8</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">createdOn</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">28</td>
<td align="right">28</td>
<td align="right">0</td>
<td align="right">409</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">modifiedOn</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">28</td>
<td align="right">28</td>
<td align="right">0</td>
<td align="right">251</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">startStop</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">31689</td>
<td align="right">3</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: logical</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="left">count</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">phevBlended</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">0</td>
<td align="left">FAL: 44673, TRU: 216</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table style="width:100%;">
<colgroup>
<col width="14%" />
<col width="9%" />
<col width="12%" />
<col width="8%" />
<col width="8%" />
<col width="9%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="8%" />
<col width="5%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">barrels08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">15.39</td>
<td align="right">4.28</td>
<td align="right">0.05</td>
<td align="right">12.94</td>
<td align="right">14.88</td>
<td align="right">17.50</td>
<td align="right">42.50</td>
<td align="left">▁▇▃▁▁</td>
</tr>
<tr class="even">
<td align="left">barrelsA08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.19</td>
<td align="right">0.98</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">16.53</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">charge120</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="left">▁▁▇▁▁</td>
</tr>
<tr class="even">
<td align="left">charge240</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.09</td>
<td align="right">0.88</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">15.30</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">city08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">18.90</td>
<td align="right">9.54</td>
<td align="right">6.00</td>
<td align="right">15.00</td>
<td align="right">17.00</td>
<td align="right">21.00</td>
<td align="right">150.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">city08U</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">7.54</td>
<td align="right">13.48</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">16.55</td>
<td align="right">150.20</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">cityA08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.84</td>
<td align="right">6.40</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">145.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">cityA08U</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.70</td>
<td align="right">6.31</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">145.08</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">cityCD</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0.04</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">5.35</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">cityE</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.60</td>
<td align="right">5.27</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">122.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">cityUF</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0.04</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.93</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">co2</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">112.91</td>
<td align="right">190.79</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">292.00</td>
<td align="right">979.00</td>
<td align="left">▇▂▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">co2A</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5.89</td>
<td align="right">57.23</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">713.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">co2TailpipeAGpm</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">16.85</td>
<td align="right">91.57</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">713.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">co2TailpipeGpm</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">459.57</td>
<td align="right">126.87</td>
<td align="right">0.00</td>
<td align="right">386.00</td>
<td align="right">444.35</td>
<td align="right">522.76</td>
<td align="right">1269.57</td>
<td align="left">▁▇▃▁▁</td>
</tr>
<tr class="even">
<td align="left">comb08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">21.12</td>
<td align="right">9.10</td>
<td align="right">7.00</td>
<td align="right">17.00</td>
<td align="right">20.00</td>
<td align="right">23.00</td>
<td align="right">142.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">comb08U</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">8.35</td>
<td align="right">14.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">18.99</td>
<td align="right">141.95</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">combA08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.89</td>
<td align="right">6.37</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">133.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">combA08U</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.74</td>
<td align="right">6.24</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">133.27</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">combE</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.61</td>
<td align="right">5.29</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">121.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">combinedCD</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0.03</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">4.80</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">combinedUF</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0.04</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.92</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">cylinders</td>
<td align="right">378</td>
<td align="right">0.99</td>
<td align="right">5.71</td>
<td align="right">1.77</td>
<td align="right">2.00</td>
<td align="right">4.00</td>
<td align="right">6.00</td>
<td align="right">6.00</td>
<td align="right">16.00</td>
<td align="left">▇▇▅▁▁</td>
</tr>
<tr class="even">
<td align="left">displ</td>
<td align="right">376</td>
<td align="right">0.99</td>
<td align="right">3.28</td>
<td align="right">1.36</td>
<td align="right">0.00</td>
<td align="right">2.20</td>
<td align="right">3.00</td>
<td align="right">4.20</td>
<td align="right">8.40</td>
<td align="left">▁▇▅▂▁</td>
</tr>
<tr class="odd">
<td align="left">engId</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">7507.96</td>
<td align="right">16668.25</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">164.00</td>
<td align="right">4110.00</td>
<td align="right">69102.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">feScore</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.74</td>
<td align="right">2.93</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">3.00</td>
<td align="right">10.00</td>
<td align="left">▇▁▂▁▁</td>
</tr>
<tr class="odd">
<td align="left">fuelCost08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">3556.53</td>
<td align="right">986.75</td>
<td align="right">450.00</td>
<td align="right">2900.00</td>
<td align="right">3450.00</td>
<td align="right">4050.00</td>
<td align="right">10850.00</td>
<td align="left">▂▇▂▁▁</td>
</tr>
<tr class="even">
<td align="left">fuelCostA08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">110.64</td>
<td align="right">595.22</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">4550.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">ghgScore</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.74</td>
<td align="right">2.93</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">3.00</td>
<td align="right">10.00</td>
<td align="left">▇▁▂▁▁</td>
</tr>
<tr class="even">
<td align="left">ghgScoreA</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">-0.92</td>
<td align="right">0.65</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">-1.00</td>
<td align="right">8.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">highway08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">24.98</td>
<td align="right">8.84</td>
<td align="right">9.00</td>
<td align="right">20.00</td>
<td align="right">24.00</td>
<td align="right">28.00</td>
<td align="right">133.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">highway08U</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">9.74</td>
<td align="right">15.32</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">23.11</td>
<td align="right">133.03</td>
<td align="left">▇▂▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">highwayA08</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.99</td>
<td align="right">6.49</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">121.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">highwayA08U</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.80</td>
<td align="right">6.30</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">121.20</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">highwayCD</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0.03</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">4.06</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">highwayE</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.62</td>
<td align="right">5.35</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">120.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">highwayUF</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.00</td>
<td align="right">0.04</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.91</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">hlv</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1.97</td>
<td align="right">5.91</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">49.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">hpv</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">9.99</td>
<td align="right">27.76</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">195.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">id</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">22592.27</td>
<td align="right">13108.17</td>
<td align="right">1.00</td>
<td align="right">11223.00</td>
<td align="right">22450.00</td>
<td align="right">33974.00</td>
<td align="right">45322.00</td>
<td align="left">▇▇▇▇▇</td>
</tr>
<tr class="odd">
<td align="left">lv2</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1.76</td>
<td align="right">4.30</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">41.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">lv4</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">5.99</td>
<td align="right">9.53</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">13.00</td>
<td align="right">55.00</td>
<td align="left">▇▃▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">pv2</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">13.24</td>
<td align="right">30.79</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">194.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">pv4</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">33.31</td>
<td align="right">45.96</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">91.00</td>
<td align="right">192.00</td>
<td align="left">▇▁▅▁▁</td>
</tr>
<tr class="odd">
<td align="left">range</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1.74</td>
<td align="right">21.10</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">520.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">rangeCity</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1.53</td>
<td align="right">20.26</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">520.80</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">rangeCityA</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.17</td>
<td align="right">2.71</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">135.28</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">rangeHwy</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1.43</td>
<td align="right">19.14</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">520.50</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">rangeHwyA</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.15</td>
<td align="right">2.43</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">114.76</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">UCity</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">23.96</td>
<td align="right">13.57</td>
<td align="right">0.00</td>
<td align="right">18.50</td>
<td align="right">21.80</td>
<td align="right">26.21</td>
<td align="right">224.80</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">UCityA</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">1.11</td>
<td align="right">9.05</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">207.26</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">UHighway</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">35.07</td>
<td align="right">12.75</td>
<td align="right">0.00</td>
<td align="right">28.00</td>
<td align="right">33.50</td>
<td align="right">39.64</td>
<td align="right">187.10</td>
<td align="left">▇▃▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">UHighwayA</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.89</td>
<td align="right">5.66</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">173.14</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">year</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">2003.17</td>
<td align="right">11.97</td>
<td align="right">1984.00</td>
<td align="right">1992.00</td>
<td align="right">2004.00</td>
<td align="right">2014.00</td>
<td align="right">2023.00</td>
<td align="left">▇▆▆▇▇</td>
</tr>
<tr class="odd">
<td align="left">youSaveSpend</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">-5758.40</td>
<td align="right">4962.51</td>
<td align="right">-42250.00</td>
<td align="right">-8250.00</td>
<td align="right">-5250.00</td>
<td align="right">-2500.00</td>
<td align="right">9750.00</td>
<td align="left">▁▁▂▇▂</td>
</tr>
<tr class="even">
<td align="left">charge240b</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.02</td>
<td align="right">0.33</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">9.60</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">phevCity</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.27</td>
<td align="right">3.75</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">97.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="even">
<td align="left">phevHwy</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.27</td>
<td align="right">3.63</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">81.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
<tr class="odd">
<td align="left">phevComb</td>
<td align="right">0</td>
<td align="right">1.00</td>
<td align="right">0.27</td>
<td align="right">3.67</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">88.00</td>
<td align="left">▇▁▁▁▁</td>
</tr>
</tbody>
</table>
</div>
<div id="data-exploration" class="section level1">
<h1>Data Exploration</h1>
<p>Let’s start the data exploration by looking at how many vehicles were added in each year.
Before we start, I like to use a common theme for ggplot in the document, add that first.</p>
<pre class="r"><code># Global document theme
theme_glob &lt;- theme_bw(base_family=&quot;Helvetica&quot;, base_size = 12) +
    theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1), legend.direction = &quot;horizontal&quot;, legend.position = &quot;top&quot;)
theme_set(theme_glob)</code></pre>
<div id="vehicles-and-years" class="section level2">
<h2>Vehicles and Years</h2>
<p>How many models are released per year?</p>
<pre class="r"><code># Add some extra information for later use
vehicles &lt;- vehicles %&gt;% 
  mutate(fuelType_f = gsub(fuelType1, pattern = regex(&#39;.*Gasoline&#39;, ignore_case = TRUE), replacement = &#39;Gasoline&#39;))

#current_model_year &lt;- max(vehicles$year)
current_model_year &lt;- as.integer( format(Sys.Date(), &quot;%Y&quot;))

vehicles %&gt;% 
  ggplot(aes(x=year)) +
  geom_bar( aes(fill = year), stat = &quot;count&quot;, show.legend = FALSE) + 
  labs(title = &quot;Models by Year&quot;, y = &quot;Count of models&quot;, x = &quot;Year&quot;) +
  scale_x_continuous(breaks =  seq( min(vehicles$year), max(vehicles$year), by = 2) )</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="vehicles-and-manufacturers" class="section level2">
<h2>Vehicles and Manufacturers</h2>
<p>How many manufacturers do we have?
We have 141 total number of manufacturers in our list. Here are the top 20.</p>
<pre class="r"><code>vehicles %&gt;% 
  count(make) %&gt;% 
  top_n(20, wt = n ) %&gt;% 
  

  ggplot(aes(x = reorder(make, n), y = n )) +
  geom_bar( aes(fill = make), stat = &quot;identity&quot;, show.legend = FALSE) + 
    labs(title = &quot;Top manufacturers by number of models&quot;, y = &quot;Count of models&quot;, x = &quot;Make&quot;) +
  coord_flip()</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>WTF, Chevrolet has close to 4000 models - this is not a real number because each manufacturer (make) has the same model coming back in a different year. We will need to identify truly unique models.</p>
<pre class="r"><code>vehicles %&gt;% 
  count(make, model) %&gt;% count(make) %&gt;% top_n(20, wt = n) %&gt;% 
  ggplot(aes(x = reorder(make, n), y = n )) +
  geom_bar( aes(fill = make), stat = &quot;identity&quot;, show.legend = FALSE) + 
    labs(title = &quot;Top manufacturers by number of models - adjusted for model year&quot;, y = &quot;Count of models&quot;, x = &quot;Make&quot;) +
  coord_flip() </code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<p>This looks a lot better - Mercedes and BMW are the most prolific manufacturers with over 300 models.</p>
</div>
</div>
<div id="fuel-economy" class="section level1">
<h1>Fuel Economy</h1>
<p>Let’s dive into an analysis of fuel economy and see how things have changed over the year, clearly economy has gone up but seems to have suffered recently. We will try and investigate why that happened.
The other issue is that this data contains other types of alternative fuels, we need to adjust for different fuel types.</p>
<pre class="r"><code>vehicles %&gt;% 
  group_by(year) %&gt;% 
  summarise(avgMPG = mean(comb08), .groups = &quot;drop&quot;) %&gt;% 
  ggplot(aes(x=year, y = avgMPG)) +
  geom_line(aes(color = avgMPG), alpha = 0.5, show.legend = FALSE) +
  geom_point(aes(color = avgMPG), show.legend = FALSE) +
  scale_x_continuous(breaks =  seq( min(vehicles$year), max(vehicles$year), by = 2) ) +
  scale_color_gradientn(colours=c(&quot;red&quot;, &quot;blue&quot;, &quot;green&quot;)) +
  labs(title = &quot;Average fuel economy over the years&quot;, y = &quot;Avg MPG&quot;, x = &quot;Year&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<div id="by-fuel-type" class="section level2">
<h2>By Fuel type</h2>
<p>Let’s look at the vehicles by the type of fuel - we had previously added an additional column that describes the different fuel types for these vehicles.
Clearly, electric powered vehicles have an edge over other forms of fuel.</p>
<pre class="r"><code>vehicles %&gt;% 
  group_by(year, fuelType_f) %&gt;% 
  summarise(avgMPG = mean(comb08), .groups = &quot;drop&quot;) %&gt;% 
  ggplot(aes(x=year, y = avgMPG)) +
  geom_line(aes(color = avgMPG), alpha = 0.7, show.legend = FALSE) +
  geom_point(aes(color = avgMPG), alpha = 0.5, show.legend = FALSE) +
  scale_x_continuous(breaks =  seq( min(vehicles$year), max(vehicles$year), by = 2) ) +
  scale_color_gradientn(colours=c(&quot;red&quot;, &quot;green&quot;)) +
  labs(title = &quot;Average fuel economy over the years by fuel type&quot;, y = &quot;Avg MPG&quot;, x = &quot;Year&quot;) +
  facet_wrap(~ fuelType_f, scales = &quot;free&quot;) +
  theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1), legend.direction = &quot;horizontal&quot;, legend.position = &quot;top&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>
<div id="by-vehicle-class" class="section level2">
<h2>By Vehicle class</h2>
<p>For this we will limit ourselves to Gasoline fueled vehicles since not all vehicles are made equal, let’s also try and see how different vehicle classes score.</p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType_f == &#39;Gasoline&#39;) %&gt;% 
  group_by(year, VClass) %&gt;% 
  summarise(avgMPG = mean(comb08), .groups = &quot;drop&quot;) %&gt;% 
  ggplot() +
  ggridges::geom_density_ridges(aes(x = avgMPG, y = as.factor(VClass), fill = VClass), rel_min_height = 0.001, scale = 1, show.legend = FALSE) +
  labs(title = &quot;Fuel economy density by Vehicle class&quot;, y = &quot;Vehicle Class&quot;, x = &quot;Avg MPG&quot;) </code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>It’s clear that we are comparing apples to oranges - let’s roll up the data to create some vehicle classes and try this again.</p>
<pre class="r"><code>vehicles &lt;- vehicles %&gt;% 
  mutate(VClass_f = case_when(str_detect(VClass, pattern = &quot;Trucks&quot;) ~ &quot;Pickup Trucks&quot;,
                              str_detect(VClass, pattern = &quot;Cars|Wagons&quot;) ~ &quot;Cars&quot;,
                              str_detect(VClass, pattern = &quot;Sport&quot;) ~ &quot;SUV&quot;,
                              str_detect(VClass, pattern = regex(&quot;van&quot;, ignore_case = TRUE) ) ~ &quot;Vans&quot;, 
                              TRUE ~ &quot;Other&quot;))</code></pre>
<p>We can start to see the range of mpg averages over the different vehicle classes. This graph represents the density (relative proportions) of mpg ratings in each vehicle class.</p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType_f == &#39;Gasoline&#39; , fuelType2 != &quot;Electricity&quot;) %&gt;% 
  group_by( VClass) %&gt;% 
  mutate(avgMPG = mean(comb08)) %&gt;% ungroup() %&gt;% 
  ggplot(aes(x = avgMPG, y = as.factor(VClass_f))) +
  geom_density_ridges(aes(fill = VClass_f), rel_min_height = 0.001, show.legend = FALSE, alpha = 0.7) +
  labs(title = &quot;Fuel economy density by Vehicle class&quot;, y = &quot;Vehicle Class&quot;, x = &quot;Avg MPG&quot;) </code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<p>Let’s see what kind of engine displacements we are talking about in this set. It’s clear that there is a correlation between displacement and fuel economy. We will explore that later.</p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType_f == &#39;Gasoline&#39;, fuelType2 != &quot;Electricity&quot;) %&gt;% 
  group_by( VClass) %&gt;% 
  mutate(avgDispl = mean(displ)) %&gt;% ungroup() %&gt;% 
  ggplot(aes(x = avgDispl, y = as.factor(VClass_f))) +
  geom_density_ridges(aes(fill = VClass_f), rel_min_height = 0.001, show.legend = FALSE, alpha = 0.7) +
  labs(title = &quot;Engine displacement density by Vehicle class&quot;, y = &quot;Vehicle Class&quot;, x = &quot;Engine displacement (litres)&quot;) +
  scale_x_continuous(breaks = seq(1.6,6, by = 0.4))</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-13-1.png" width="672" /></p>
</div>
<div id="engine-displacement-vs-fuel-economy" class="section level2">
<h2>Engine displacement vs fuel economy</h2>
<ul>
<li>Not including plug-in hybrids.</li>
</ul>
<pre class="r"><code>vehicles %&gt;%  
  filter(fuelType_f == &#39;Gasoline&#39; , fuelType2 != &quot;Electricity&quot;, year == current_model_year) %&gt;% 
  ggplot(aes(y=comb08, x = displ)) + 
  geom_point(aes(color = VClass_f, group = VClass_f), position = &quot;jitter&quot;,  na.rm = TRUE ) +
  scale_color_brewer(palette = &quot;Set1&quot;) + 
  labs(title = &quot;Engine displacement vs Fuel Economy&quot;, y = &quot;Avg MPG&quot;, x = &quot;Engine displacement (litres)&quot;) +
  guides(color = guide_legend(title=&quot;Vehicle class&quot;))  </code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<p>Let’s also see how has economy improved over the years for each of these segments; cars and Vans have had the most improvement over time and SUVs are a relatively new segment and were only defined near 2000.
The second chart shows the relative numbers of models in each class.</p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType_f == &#39;Gasoline&#39;,VClass_f != &quot;Other&quot;) %&gt;% 
  group_by(year, VClass_f) %&gt;% 
  mutate(avgMPG = mean(comb08)) %&gt;% 
  ungroup() %&gt;% 
  ggplot(aes(x = year, y = avgMPG)) +
  geom_point(aes(color = VClass_f), alpha = 0.1) +
  geom_smooth(aes(color = VClass_f))  +
  labs(title = &quot;Fuel economy by Vehicle class over time&quot;, y = &quot;Avg MPG&quot;, x = &quot;Year&quot;) +
  guides(color = guide_legend(title=&quot;Vehicle class&quot;)) +
  scale_color_brewer(palette = &quot;Set1&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType_f == &#39;Gasoline&#39;,VClass_f != &quot;Other&quot;) %&gt;% 
  group_by(year, VClass_f) %&gt;% 
  ungroup() %&gt;% 
  ggplot(aes(x = year, y = ..count..)) +
  geom_area(aes(fill = VClass_f), stat= &quot;bin&quot;, position = &quot;fill&quot;, binwidth = 1) +
  labs(title = &quot;Percentage of models by Vehicle Class (Gasoline only)&quot;, y = &quot;Class size&quot;, x = &quot;Year&quot;) +
  guides(fill = guide_legend(title=&quot;Vehicle class&quot;)) +
  scale_y_continuous(labels = scales::percent, breaks = seq(0,1, by = .25)) +
  scale_fill_brewer(palette = &quot;Set1&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
<div id="by-manufacturers" class="section level2">
<h2>By manufacturers</h2>
<p>Are there manufacturers that have done a better job compared to the others? Let’s start by seeing what the range of mileage is in our data set, still only looking at the Gasoline segment only. Let’s do this for the last three model years only.
We can see a wide swing in range between different models from a manufacturer. Hyundai seems quite curious with a range from 17 to 58 mpg, we’ll try and explore that further.</p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType_f == &#39;Gasoline&#39;,VClass_f == &quot;Cars&quot;, between(year, current_model_year-3, current_model_year)) %&gt;% 
  group_by(make) %&gt;% 
  summarise(min = min(comb08), max = max(comb08), .groups = &quot;drop&quot;) %&gt;% 
  
  ggplot() +
    geom_point(aes(x = reorder(make, -(max - min), order = TRUE ), y = max, color = make), size = 2, show.legend = FALSE)  +
    geom_point(aes(x = make, y = min, color = make), size = 1, show.legend = FALSE) +
    geom_segment(aes(x = make, xend = make, y = min, yend = max, color = make), size = 0.2, show.legend = FALSE) +
    coord_flip() +
    scale_y_continuous(breaks = seq(10,60, by = 5)) +
    labs(title = paste0(&quot;Range of Avg MPG (&quot;, current_model_year -3, &quot;-&quot;, current_model_year, &quot; models)&quot;), x = &quot;Make&quot;, y = &quot;Min &lt;--MPG --&gt; Max&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
</div>
<div id="most-improved" class="section level2">
<h2>Most Improved</h2>
<p>My goal here is to find the most fuel efficient vehicles. There are many ways to slice this data to find the best vehicles; by make, by vehicle class, by fuel type, by engine size, seating capacity and many other ways. One interesting metric would be to see which models have the most improved efficiency over time. We will find vehicles that are still being sold in the current model year and have been around for at least three model years. Once more, we’ll limit our set to Gasoline powered vehicles only. The chart below shows the most improved and ones that have gotten much worse over the years.</p>
<pre class="r"><code># Find models that are still being sold in the current model year
vehicles %&gt;% 
  filter(year == 2019, fuelType_f == &quot;Gasoline&quot;, VClass_f == &quot;Cars&quot;) %&gt;% 
  distinct(make, model, fuelType_f, trany, fuelType, cylinders) %&gt;% 
  inner_join(vehicles, by = c(&quot;make&quot;, &quot;model&quot;, &quot;trany&quot;, &quot;fuelType&quot;, &quot;cylinders&quot;)) %&gt;% 
  group_by(make, model, trany, fuelType, cylinders) %&gt;% 
  summarise(years_sold = n_distinct(year), mpg_start = comb08[which.min(year)], mpg_end = comb08[which.max(year)], mpg_range = mpg_end - mpg_start, min_year = year[which.min(year)], max_year = year[which.max(year)], .groups = &quot;drop&quot;) %&gt;% 
  mutate(avg_range = mean(mpg_range), sd_range = sd(mpg_range), shift = if_else(mpg_range &gt; 0, &quot;Better&quot;, &quot;Worse&quot;)) %&gt;% 
  filter(years_sold &gt; 2, mpg_range &gt; 3 * sd_range | mpg_range &lt; -2* sd_range) %&gt;% 
  
  ggplot() +
    geom_point(aes(x = reorder(model, -mpg_start), y = mpg_end, color = make), size = 2, show.legend = FALSE) +
    geom_point(aes(x = model, y = mpg_start, color = make), size = 1 , show.legend = FALSE) +
    geom_segment(aes(x = model, xend = model, y = mpg_start, yend = if_else(shift == &quot;Better&quot;, mpg_end -0.65, mpg_end + 0.65), color = make), linejoin = &quot;mitre&quot;, arrow = arrow(length = unit(0.03, &quot;npc&quot;), type = &quot;closed&quot;), size = 0.2, show.legend = FALSE) +
    geom_text_repel(aes(x = model, y = mpg_start, label = min_year), size = 2.5 ) +
    scale_y_continuous(breaks = seq(10,60, by = 5)) +
    labs(title =&quot;Change in Avg MPG&quot;, x = &quot;Model&quot;, y = &quot;MPG&quot;) +
    facet_wrap(~shift, scales = &quot;free&quot;) +
  coord_flip()</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
</div>
<div id="most-fuel-efficient-models-in-class" class="section level2">
<h2>Most fuel efficient Models in class</h2>
<p>Let’s look at the real fuel sippers by class of vehicle - we’ll start by the larger class and then refine further into smaller sub-classes. All these are the most recent models and all are Gasoline powered. We will look at other fuel types separately.</p>
<div id="by-vehicle-class-1" class="section level3">
<h3>By Vehicle class</h3>
<pre class="r"><code>vehicles %&gt;%
  filter(year == current_model_year, fuelType_f == &quot;Gasoline&quot;) %&gt;% 
  top_n(20, wt = comb08) %&gt;% 
  ggplot() +
  geom_point(aes(x = reorder(model, comb08), y = comb08, color = make), size = 3) +
  
  coord_flip() +
  labs(title =&quot;Highest MPG overall (combined)&quot;, x = &quot;Model&quot;, y = &quot;MPG&quot;) +
  scale_y_continuous(breaks = seq(30,60, by = 2)) +
  scale_color_brewer(palette = &quot;Dark2&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-19-1.png" width="672" /></p>
</div>
<div id="by-vehicle-type" class="section level3">
<h3>By Vehicle type</h3>
<p>Since SUVs and Cars are the biggest segments - let’s limit to those.
Only look for full gasoline or hybrid vehicles, exclude any plug in hybrids</p>
<pre class="r"><code>vehicles %&gt;%
  filter(year == current_model_year, fuelType_f == &quot;Gasoline&quot;, fuelType2 != &quot;Electricity&quot;, VClass_f %in% c(&quot;Cars&quot;, &quot;SUV&quot;)) %&gt;% 
  group_by(VClass_f) %&gt;% 
  distinct(model, .keep_all = TRUE) %&gt;% 
  top_n(15, wt = comb08) %&gt;% 
  ggplot() +
  geom_point(aes(x = reorder(model, comb08), y = comb08, color = make), size = 3, show.legend = FALSE) +
  
  coord_flip() +
  labs(title =&quot;Highest MPG overall (combined)&quot;, x = &quot;Model&quot;, y = &quot;MPG&quot;) +
  scale_y_continuous(breaks = seq(30,60, by = 2)) +
  #scale_color_brewer(palette = &quot;Dark2&quot;) +
  facet_wrap(~ VClass_f, scales =&quot;free&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>Before we move on, let’s take a quick look at the worst overall MPG</p>
</div>
<div id="worst-mpg" class="section level3">
<h3>Worst MPG</h3>
<p>Gasoline Cars - current model year
Looking at this, at least Rolls Royce is constiently bad across most of it’s models and Grand Cherokee Trackhawk is a 800 bhp, 0 - 60 in less than 3 second beast.</p>
<pre class="r"><code>vehicles %&gt;%
  filter(year == current_model_year, fuelType_f == &quot;Gasoline&quot;, fuelType2 != &quot;Electricity&quot;, VClass_f %in% c(&quot;Cars&quot;, &quot;SUV&quot;)) %&gt;% 
  group_by(VClass_f) %&gt;% 
  distinct(model, .keep_all = TRUE) %&gt;% 
  top_n(5, wt = -comb08) %&gt;% 
  ggplot() +
  geom_point(aes(x = reorder(model, comb08), y = comb08, color = make), size = 3, show.legend = FALSE) +
  
  coord_flip() +
  labs(title =&quot;Lowest MPG overall (combined)&quot;, x = &quot;Model&quot;, y = &quot;MPG&quot;) +
  scale_y_continuous(breaks = seq(0,20, by = 2)) +
  scale_color_brewer(palette = &quot;Dark2&quot;) +
  facet_wrap(~ VClass_f, scales =&quot;free&quot;)</code></pre>
<pre><code>## Warning in RColorBrewer::brewer.pal(n, pal): n too large, allowed maximum for palette Dark2 is 8
## Returning the palette you asked for with that many colors</code></pre>
<pre><code>## Warning: Removed 11 rows containing missing values (geom_point).</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
</div>
</div>
<div id="electric-vehicles" class="section level2">
<h2>Electric Vehicles</h2>
<p>Before looking at the data, a quick look a the number of models for each fuel type</p>
<div id="different-fuel-types" class="section level3">
<h3>Different Fuel Types</h3>
<ul>
<li>Current model year only</li>
</ul>
<pre class="r"><code>vehicles %&gt;% 
  filter(year == current_model_year, VClass_f != &quot;Other&quot;) %&gt;% 
  group_by(fuelType_f) %&gt;% 
  ggplot(aes( x = fuelType_f)) +
  geom_bar(aes(fill = fuelType_f)) +
  scale_fill_brewer(palette = &quot;Set1&quot;) +
  facet_grid(~ VClass_f, scales = &quot;free&quot;) +
  labs(title = &quot;Count of models by fuel type - Current model year&quot;, y = &quot;Class size&quot;, x = &quot;Fuel Type&quot;) +
  guides(fill = guide_legend(title=&quot;Vehicle class&quot;)) +
  geom_label(stat = &quot;count&quot;, aes(label = ..count.., y = ..count..)) +
  theme(axis.text.x = element_text(angle = 45, vjust = 1, hjust = 1), legend.direction = &quot;horizontal&quot;, legend.position = &quot;top&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
<p>While EVs are still an extremely small segment of the total passenger vehicle segment, they are certainly starting to be noticed.
Let’s look at the electric vehicle stats before we move to some machine learning.</p>
</div>
<div id="electric-effciency" class="section level3">
<h3>Electric Effciency</h3>
<p>We’ll look at the transitional electric vehicles first - these are also called the plug-in electric vehicles where they retain an IC engine along with some battery.</p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType2 == &quot;Electricity&quot;, year == current_model_year , VClass_f %in% c(&quot;Cars&quot;)) %&gt;% 
  group_by(VClass_f) %&gt;% 
  distinct(model, .keep_all = TRUE) %&gt;% 
  top_n(15, wt = comb08) %&gt;% 
  ggplot() +
  geom_point(aes(x = reorder(model, comb08), y = comb08, color = make), size = 3) +
  
  coord_flip() +
  labs(title =&quot;Highest MPG overall (Plug in hybrids)&quot;, x = &quot;Model&quot;, y = &quot;MPG&quot;) +
  #scale_y_continuous(breaks = seq(30,60, by = 2)) +
  scale_color_brewer(palette = &quot;Dark2&quot;) </code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
</div>
<div id="fully-electric" class="section level3">
<h3>Fully electric</h3>
<p>Hyundai seems to have taken the top spots in both the Cars and SUV segments and Tesla is doing well in both segments.</p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType_f == &quot;Electricity&quot;,  VClass_f %in% c(&quot;Cars&quot;, &quot;SUV&quot;)) %&gt;% 
  group_by(VClass_f) %&gt;% 
  distinct(model, .keep_all = TRUE) %&gt;% 
  top_n(10, wt = comb08) %&gt;% 
  ggplot() +
  geom_point(aes(x = reorder(model, comb08), y = comb08, color = make), size = 3) +
  
  coord_flip() +
  labs(title =&quot;Highest MPGe overall (Full electric)&quot;, x = &quot;Model&quot;, y = &quot;MPG&quot;) +
  facet_wrap(~ VClass_f, scales =&quot;free&quot;) +
  scale_x_discrete(labels = function(x) abbreviate(x, minlength = 11L))</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
</div>
<div id="fully-electric-range" class="section level3">
<h3>Fully electric range</h3>
<p>What kind of range do we get at the top of the heap and it’s clear that Tesla has done a phenomenal job both in efficiency and range.</p>
<pre class="r"><code>vehicles %&gt;% 
  filter(fuelType_f == &quot;Electricity&quot;, VClass_f %in% c(&quot;Cars&quot;, &quot;SUV&quot;)) %&gt;% 
  group_by(VClass_f) %&gt;% 
  distinct(model, .keep_all = TRUE) %&gt;%
  top_n(10, wt = range) %&gt;% 
  ggplot() +
  geom_point(aes(x = reorder(model, range), y = range, color = make), size = 3) +
  
  coord_flip() +
  labs(title =&quot;Longest Range (Full electric)&quot;, x = &quot;Model&quot;, y = &quot;Range (miles)&quot;) +
  facet_wrap(~ VClass_f, scales =&quot;free&quot;) +
  scale_x_discrete(labels = function(x) abbreviate(x, minlength = 11L))</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
</div>
</div>
</div>
<div id="machine-learning" class="section level1">
<h1>Machine Learning</h1>
<p>This is a great dataset to try and dig into machine learning.
Start with some clustering</p>
<div id="clustering" class="section level2">
<h2>Clustering</h2>
<p>Clustering is process of grouping together similar items. In this case we want to see which vehicles are most like another and form groups.</p>
<p>Before we get into the actual clustering, we’ll try and identify which variables are related and which are ones that are important.
We’ll use a technique called Principal Component Analysis. Let’s take a look at what the data looks like; some of these are clearly propotinally and linearly related, while others have some more spread out variations.</p>
<pre class="r"><code>data &lt;- vehicles %&gt;% 
  filter(year == current_model_year, fuelType_f == &quot;Gasoline&quot;, fuelType2 != &quot;Electricity&quot;,  VClass_f == &quot;Cars&quot;) %&gt;% 
  distinct( model,  trany,  cylinders, .keep_all = TRUE) %&gt;% 
  mutate(model = paste(model, trany, cylinders, sep = &quot;-&quot;)) %&gt;% 
  select(model, barrels08, co2TailpipeGpm, comb08, cylinders, displ, fuelCost08, highway08, city08, youSaveSpend)
 
data &lt;- na.omit(data)
data &lt;- column_to_rownames(data, var = &quot;model&quot;)
data &lt;- as.data.frame(data)
plot(data)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<p>Before we run the principal components, we’ll scale the data to normalize it - that will ensure that the data ranges are normalized and one single element does not have a large range and does not dominate.</p>
<pre class="r"><code>df &lt;- scale(data)
pc &lt;- princomp(df)
plot(pc)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<pre class="r"><code>plot(pc, type=&#39;l&#39;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-27-2.png" width="672" /></p>
<pre class="r"><code>summary(pc)</code></pre>
<pre><code>## Importance of components:
##                           Comp.1     Comp.2     Comp.3      Comp.4      Comp.5
## Standard deviation     2.8156032 0.87606082 0.38949760 0.263522444 0.196286100
## Proportion of Variance 0.8827493 0.08546002 0.01689289 0.007732674 0.004290161
## Cumulative Proportion  0.8827493 0.96820931 0.98510221 0.992834881 0.997125042
##                             Comp.6      Comp.7       Comp.8       Comp.9
## Standard deviation     0.151249481 0.048503553 2.428706e-02 2.126276e-08
## Proportion of Variance 0.002547313 0.000261964 6.568172e-05 5.034237e-17
## Cumulative Proportion  0.999672354 0.999934318 1.000000e+00 1.000000e+00</code></pre>
<p>Given these charts, we will use the first three components from this data since most variation is present in these three.
We have now simplified the data into fewer dimensions that have the most variance and are therefore the most important in deciding clusters.
The columns we have selected are barrels08, co2TailpipeGpm, comb08</p>
<pre class="r"><code>pc &lt;- prcomp(df)
comp &lt;- data.frame(pc$x[,1:3])
# Plot
plot(comp, pch=16, col=rgb(0,0,0,0.5))</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<div id="k-means" class="section level3">
<h3>K-means</h3>
<p>The k means algorithm tries to create groups of observatons by minimizing the distance between the observations, the other question to answer as we do this is to find out the optimal number of clusters.
A second thing to note is that since all our data has many different ranges, to compare standard measures, we’ll rescale all the data after removing all non-numeric data.</p>
<p>One of the first things we need to identify is an optimum number of clusters we should seek.
Here I used the code from <a href="http://www.statmethods.net/advstats/cluster.html">R in Action</a>:</p>
<pre class="r"><code># Determine number of clusters
wss &lt;- (nrow(comp)-1)*sum(apply(comp,2,var))
for (i in 2:15) wss[i] &lt;- sum(kmeans(comp,
                                     centers=i)$withinss)
plot(1:15, wss, type=&quot;b&quot;, xlab=&quot;Number of Clusters&quot;,
     ylab=&quot;Within groups sum of squares&quot;)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<p>Based on the scree plot above, let’s go with 5 clusters within this data.</p>
<pre class="r"><code># Only do this for gasoline cars initially
set.seed(1215)
k &lt;- kmeans(data, 5, nstart=25, iter.max=1000)
palette(alpha(brewer.pal(9,&#39;Set1&#39;), 0.5))
plot(comp, col=k$clust, pch=16)</code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<p>Finally, we can identify the vehicles that have been clustered together.</p>
<pre class="r"><code>clust &lt;- names(table(k$clust))

# First cluster

map(clust, function(x) {
  row.names(data[k$clust==x,])
})</code></pre>
<pre><code>## [[1]]
##  [1] &quot;Spark-Automatic (variable gear ratios)-4&quot;                      
##  [2] &quot;Spark ACTIV-Automatic (variable gear ratios)-4&quot;                
##  [3] &quot;Spark-Manual 5-spd-4&quot;                                          
##  [4] &quot;Insight Touring-Automatic (variable gear ratios)-4&quot;            
##  [5] &quot;Insight-Automatic (variable gear ratios)-4&quot;                    
##  [6] &quot;Sonata Hybrid-Automatic (AM-S6)-4&quot;                             
##  [7] &quot;Sonata Hybrid Blue-Automatic (AM-S6)-4&quot;                        
##  [8] &quot;Elantra-Automatic (AV-S1)-4&quot;                                   
##  [9] &quot;Niro-Automatic (AM-S6)-4&quot;                                      
## [10] &quot;Niro FE-Automatic (AM-S6)-4&quot;                                   
## [11] &quot;Niro Touring-Automatic (AM-S6)-4&quot;                              
## [12] &quot;Elantra Hybrid-Automatic (AM-S6)-4&quot;                            
## [13] &quot;Elantra Hybrid Blue-Automatic (AM-S6)-4&quot;                       
## [14] &quot;Corolla-Automatic (variable gear ratios)-4&quot;                    
## [15] &quot;Corolla-Manual 6-spd-4&quot;                                        
## [16] &quot;Corolla Hybrid-Automatic (variable gear ratios)-4&quot;             
## [17] &quot;Corolla-Automatic (AV-S10)-4&quot;                                  
## [18] &quot;Corolla XSE-Automatic (AV-S10)-4&quot;                              
## [19] &quot;Corolla APEX-Automatic (AV-S10)-4&quot;                             
## [20] &quot;Prius-Automatic (variable gear ratios)-4&quot;                      
## [21] &quot;Prius AWD-Automatic (variable gear ratios)-4&quot;                  
## [22] &quot;Prius Eco-Automatic (variable gear ratios)-4&quot;                  
## [23] &quot;Accent-Automatic (AV-S1)-4&quot;                                    
## [24] &quot;Civic 4Dr-Automatic (variable gear ratios)-4&quot;                  
## [25] &quot;Civic 4Dr-Automatic (AV-S7)-4&quot;                                 
## [26] &quot;Ioniq-Automatic (AM-S6)-4&quot;                                     
## [27] &quot;Ioniq Blue-Automatic (AM-S6)-4&quot;                                
## [28] &quot;Corolla Hatchback-Automatic (AV-S10)-4&quot;                        
## [29] &quot;Corolla Hatchback XSE-Automatic (AV-S10)-4&quot;                    
## [30] &quot;Mirage-Manual 5-spd-3&quot;                                         
## [31] &quot;Mirage-Automatic (variable gear ratios)-3&quot;                     
## [32] &quot;Mirage G4-Manual 5-spd-3&quot;                                      
## [33] &quot;Mirage G4-Automatic (variable gear ratios)-3&quot;                  
## [34] &quot;Camry Hybrid LE-Automatic (AV-S6)-4&quot;                           
## [35] &quot;Camry Hybrid SE/XLE/XSE-Automatic (AV-S6)-4&quot;                   
## [36] &quot;Avalon Hybrid-Automatic (AV-S6)-4&quot;                             
## [37] &quot;Avalon Hybrid XLE-Automatic (AV-S6)-4&quot;                         
## [38] &quot;ES 300h-Automatic (AV-S6)-4&quot;                                   
## [39] &quot;UX 250h-Automatic (AV-S6)-4&quot;                                   
## [40] &quot;UX 250h AWD-Automatic (AV-S6)-4&quot;                               
## [41] &quot;Civic 5Dr-Automatic (variable gear ratios)-4&quot;                  
## [42] &quot;Civic 5Dr-Automatic (AV-S7)-4&quot;                                 
## [43] &quot;Rio-Automatic (AV-S1)-4&quot;                                       
## [44] &quot;Forte FE-Automatic (variable gear ratios)-4&quot;                   
## [45] &quot;Forte-Automatic (variable gear ratios)-4&quot;                      
## [46] &quot;Accord-Automatic (variable gear ratios)-4&quot;                     
## [47] &quot;Accord Hybrid-Automatic (variable gear ratios)-4&quot;              
## [48] &quot;Accord Hybrid Sport/Touring-Automatic (variable gear ratios)-4&quot;
## [49] &quot;Jetta-Manual 6-spd-4&quot;                                          
## [50] &quot;Jetta SE/SEL-Automatic (S8)-4&quot;                                 
## [51] &quot;Jetta-Automatic (S8)-4&quot;                                        
## [52] &quot;Versa-Automatic (variable gear ratios)-4&quot;                      
## [53] &quot;Sentra-Automatic (variable gear ratios)-4&quot;                     
## [54] &quot;Kicks-Automatic (variable gear ratios)-4&quot;                      
## 
## [[2]]
##   [1] &quot;Stinger AWD-Automatic (S8)-6&quot;                        
##   [2] &quot;Stinger RWD-Automatic (S8)-6&quot;                        
##   [3] &quot;G70 RWD-Automatic (S8)-6&quot;                            
##   [4] &quot;G70 AWD-Automatic (S8)-6&quot;                            
##   [5] &quot;M850i xDrive Coupe-Automatic (S8)-8&quot;                 
##   [6] &quot;M850i xDrive Convertible-Automatic (S8)-8&quot;           
##   [7] &quot;M850i xDrive Gran Coupe-Automatic (S8)-8&quot;            
##   [8] &quot;Alpina B8 Gran Coupe-Automatic (S8)-8&quot;               
##   [9] &quot;750i xDrive Sedan-Automatic (S8)-8&quot;                  
##  [10] &quot;Alpina B7 xDrive-Automatic (S8)-8&quot;                   
##  [11] &quot;Veloster N-Automatic (AM-S8)-4&quot;                      
##  [12] &quot;G90 AWD-Automatic (S8)-6&quot;                            
##  [13] &quot;G90 RWD-Automatic (S8)-6&quot;                            
##  [14] &quot;G90 AWD-Automatic (S8)-8&quot;                            
##  [15] &quot;G90 RWD-Automatic (S8)-8&quot;                            
##  [16] &quot;CT4 V-Automatic (S10)-6&quot;                             
##  [17] &quot;CT4 V-Manual 6-spd-6&quot;                                
##  [18] &quot;Continental GT V8 Convertible-Automatic (AM-S8)-8&quot;   
##  [19] &quot;RS 5 Coupe-Automatic (S8)-6&quot;                         
##  [20] &quot;Continental GT-Automatic (AM-S8)-8&quot;                  
##  [21] &quot;RS 5 Sportback-Automatic (S8)-6&quot;                     
##  [22] &quot;CT5 AWD-Automatic (S10)-6&quot;                           
##  [23] &quot;CT5 V AWD-Automatic (S10)-6&quot;                         
##  [24] &quot;CT5-Automatic (S10)-6&quot;                               
##  [25] &quot;CT5 V-Automatic (S10)-6&quot;                             
##  [26] &quot;M4 Coupe-Manual 6-spd-6&quot;                             
##  [27] &quot;M4 Competition Coupe-Automatic (S8)-6&quot;               
##  [28] &quot;M4 Competition M xDrive Convertible-Automatic (S8)-6&quot;
##  [29] &quot;M3 Sedan-Manual 6-spd-6&quot;                             
##  [30] &quot;M3 Competition Sedan-Automatic (S8)-6&quot;               
##  [31] &quot;S6-Automatic (S8)-6&quot;                                 
##  [32] &quot;S7-Automatic (S8)-6&quot;                                 
##  [33] &quot;Camaro-Manual 6-spd-4&quot;                               
##  [34] &quot;Giulia-Automatic 8-spd-6&quot;                            
##  [35] &quot;M550i xDrive Sedan-Automatic (S8)-8&quot;                 
##  [36] &quot;BRZ-Manual 6-spd-4&quot;                                  
##  [37] &quot;M4 Competition M xDrive Coupe-Automatic (S8)-6&quot;      
##  [38] &quot;M3 Competition M xDrive Sedan-Automatic (S8)-6&quot;      
##  [39] &quot;Ghibli Modena AWD-Automatic 8-spd-6&quot;                 
##  [40] &quot;Ghibli GT-Automatic 8-spd-6&quot;                         
##  [41] &quot;Ghibli Modena RWD-Automatic 8-spd-6&quot;                 
##  [42] &quot;G80 AWD-Automatic (S8)-6&quot;                            
##  [43] &quot;Quattroporte Modena AWD-Automatic 8-spd-6&quot;           
##  [44] &quot;Quattroporte Modena RWD-Automatic 8-spd-6&quot;           
##  [45] &quot;Quattroporte GT-Automatic 8-spd-6&quot;                   
##  [46] &quot;911 Carrera-Automatic (AM-S8)-6&quot;                     
##  [47] &quot;911 Carrera Cabriolet-Automatic (AM-S8)-6&quot;           
##  [48] &quot;911 Carrera S-Manual 7-spd-6&quot;                        
##  [49] &quot;911 Carrera S-Automatic (AM-S8)-6&quot;                   
##  [50] &quot;911 Carrera S Cabriolet-Manual 7-spd-6&quot;              
##  [51] &quot;911 Carrera S Cabriolet-Automatic (AM-S8)-6&quot;         
##  [52] &quot;911 Carrera 4S-Manual 7-spd-6&quot;                       
##  [53] &quot;911 Carrera 4S-Automatic (AM-S8)-6&quot;                  
##  [54] &quot;911 Carrera 4S Cabriolet-Manual 7-spd-6&quot;             
##  [55] &quot;911 Carrera 4S Cabriolet-Automatic (AM-S8)-6&quot;        
##  [56] &quot;911 Carrera 4-Automatic (AM-S8)-6&quot;                   
##  [57] &quot;911 Carrera 4 Cabriolet-Automatic (AM-S8)-6&quot;         
##  [58] &quot;911 Targa 4S-Automatic (AM-S8)-6&quot;                    
##  [59] &quot;911 Targa 4S-Manual 7-spd-6&quot;                         
##  [60] &quot;911 Targa 4-Automatic (AM-S8)-6&quot;                     
##  [61] &quot;Roma-Automatic (AM8)-8&quot;                              
##  [62] &quot;Portofino M-Automatic (AM8)-8&quot;                       
##  [63] &quot;Q60-Automatic (S7)-6&quot;                                
##  [64] &quot;Q60 Red Sport-Automatic (S7)-6&quot;                      
##  [65] &quot;Q60 Red Sport AWD-Automatic (S7)-6&quot;                  
##  [66] &quot;Q60 AWD-Automatic (S7)-6&quot;                            
##  [67] &quot;RC F-Automatic (S8)-8&quot;                               
##  [68] &quot;RC 300 AWD-Automatic (S6)-6&quot;                         
##  [69] &quot;RC 350 AWD-Automatic (S6)-6&quot;                         
##  [70] &quot;IS 300 AWD-Automatic (S6)-6&quot;                         
##  [71] &quot;IS 350 AWD-Automatic (S6)-6&quot;                         
##  [72] &quot;IS 500-Automatic (S8)-8&quot;                             
##  [73] &quot;Q50 AWD-Automatic (S7)-6&quot;                            
##  [74] &quot;Q50 Red Sport-Automatic (S7)-6&quot;                      
##  [75] &quot;Q50 Red Sport  AWD-Automatic (S7)-6&quot;                 
##  [76] &quot;A8 L quattro-Automatic (S8)-6&quot;                       
##  [77] &quot;Panamera-Automatic (AM-S8)-6&quot;                        
##  [78] &quot;Panamera 4S-Automatic (AM-S8)-6&quot;                     
##  [79] &quot;Panamera 4S Executive-Automatic (AM-S8)-6&quot;           
##  [80] &quot;Panamera 4S ST-Automatic (AM-S8)-6&quot;                  
##  [81] &quot;Panamera 4-Automatic (AM-S8)-6&quot;                      
##  [82] &quot;Panamera 4 Executive-Automatic (AM-S8)-6&quot;            
##  [83] &quot;Panamera 4 ST-Automatic (AM-S8)-6&quot;                   
##  [84] &quot;GR 86-Manual 6-spd-4&quot;                                
##  [85] &quot;TLX Type-S-Automatic (S10)-6&quot;                        
##  [86] &quot;TLX Type-S Perf Tire-Automatic (S10)-6&quot;              
##  [87] &quot;LC 500 Convertible-Automatic (S10)-8&quot;                
##  [88] &quot;LC 500-Automatic (S10)-8&quot;                            
##  [89] &quot;AMG E53 4matic Plus Convertible-Automatic 9-spd-6&quot;   
##  [90] &quot;AMG GT 53 4matic Plus-Automatic 9-spd-6&quot;             
##  [91] &quot;AMG GT 43 4matic Plus-Automatic 9-spd-6&quot;             
##  [92] &quot;AMG GLB35 4matic-Automatic (AM8)-4&quot;                  
##  [93] &quot;AMG C43 4matic Coupe-Automatic 9-spd-6&quot;              
##  [94] &quot;AMG C43 4matic Convertible-Automatic 9-spd-6&quot;        
##  [95] &quot;LS 500-Automatic (S10)-6&quot;                            
##  [96] &quot;LS 500 AWD-Automatic (S10)-6&quot;                        
##  [97] &quot;DB11 V8-Automatic 8-spd-8&quot;                           
##  [98] &quot;S580 4matic Maybach-Automatic 9-spd-8&quot;               
##  [99] &quot;S580 4matic-Automatic 9-spd-8&quot;                       
## [100] &quot;Mustang-Manual 6-spd-8&quot;                              
## [101] &quot;Mustang-Automatic (S10)-8&quot;                           
## [102] &quot;Mustang Mach 1-Automatic (S10)-8&quot;                    
## [103] &quot;Mustang Mach 1-Manual 6-spd-8&quot;                       
## [104] &quot;Mustang Convertible-Automatic (S10)-8&quot;               
## [105] &quot;WRX-Manual 6-spd-4&quot;                                  
## [106] &quot;WRX-Automatic (AV-S8)-4&quot;                             
## [107] &quot;Challenger-Automatic 8-spd-8&quot;                        
## [108] &quot;Challenger-Manual 6-spd-8&quot;                           
## [109] &quot;Challenger Widebody-Automatic 8-spd-8&quot;               
## [110] &quot;300-Automatic 8-spd-8&quot;                               
## [111] &quot;Charger-Automatic 8-spd-8&quot;                           
## [112] &quot;Charger Widebody-Automatic 8-spd-8&quot;                  
## [113] &quot;AMG GLA45 4matic-Automatic (AM8)-4&quot;                  
## [114] &quot;911 Carrera GTS-Manual 7-spd-6&quot;                      
## [115] &quot;911 Carrera 4 GTS-Automatic (AM-S8)-6&quot;               
## [116] &quot;911 Carrera 4 GTS-Manual 7-spd-6&quot;                    
## [117] &quot;911 Carrera 4 GTS Cabriolet-Automatic (AM-S8)-6&quot;     
## [118] &quot;911 Carrera 4 GTS Cabriolet-Manual 7-spd-6&quot;          
## [119] &quot;911 Targa 4 GTS-Automatic (AM-S8)-6&quot;                 
## [120] &quot;911 Targa 4 GTS-Manual 7-spd-6&quot;                      
## [121] &quot;911 Carrera GTS-Automatic (AM-S8)-6&quot;                 
## [122] &quot;911 Carrera GTS Cabriolet-Automatic (AM-S8)-6&quot;       
## [123] &quot;911 Carrera GTS Cabriolet-Manual 7-spd-6&quot;            
## 
## [[3]]
##  [1] &quot;M8 Competition Coupe-Automatic (S8)-8&quot;                
##  [2] &quot;M8 Competition Convertible-Automatic (S8)-8&quot;          
##  [3] &quot;M5 CS Sedan-Automatic (S8)-8&quot;                         
##  [4] &quot;M8 Competition Gran Coupe-Automatic (S8)-8&quot;           
##  [5] &quot;M760i xDrive Sedan-Automatic (S8)-12&quot;                 
##  [6] &quot;CT5 V-Manual 6-spd-8&quot;                                 
##  [7] &quot;CT5 V-Automatic (S10)-8&quot;                              
##  [8] &quot;Camaro-Automatic (S10)-8&quot;                             
##  [9] &quot;Camaro-Manual 6-spd-8&quot;                                
## [10] &quot;RS 7-Automatic (S8)-8&quot;                                
## [11] &quot;Flying Spur-Automatic (AM-S8)-8&quot;                      
## [12] &quot;RS 6 Avant-Automatic (S8)-8&quot;                          
## [13] &quot;M5 Sedan-Automatic (S8)-8&quot;                            
## [14] &quot;M5 Competition Sedan-Automatic (S8)-8&quot;                
## [15] &quot;Phantom-Automatic (S8)-12&quot;                            
## [16] &quot;Phantom Extended-Automatic (S8)-12&quot;                   
## [17] &quot;Cullinan-Automatic (S8)-12&quot;                           
## [18] &quot;Cullinan Black Badge-Automatic (S8)-12&quot;               
## [19] &quot;Ghibli Trofeo-Automatic 8-spd-8&quot;                      
## [20] &quot;Quattroporte Trofeo-Automatic 8-spd-8&quot;                
## [21] &quot;Ghost-Automatic (S8)-12&quot;                              
## [22] &quot;Ghost Extended-Automatic (S8)-12&quot;                     
## [23] &quot;Ghost Black Badge-Automatic (S8)-12&quot;                  
## [24] &quot;911 Turbo-Automatic (AM-S8)-6&quot;                        
## [25] &quot;911 Turbo Cabriolet-Automatic (AM-S8)-6&quot;              
## [26] &quot;911 Turbo S-Automatic (AM-S8)-6&quot;                      
## [27] &quot;911 Turbo S Cabriolet-Automatic (AM-S8)-6&quot;            
## [28] &quot;Continental GT Speed Convertible-Automatic (AM-S8)-12&quot;
## [29] &quot;Continental GT Speed-Automatic (AM-S8)-12&quot;            
## [30] &quot;Flying Spur-Automatic (AM-S8)-12&quot;                     
## [31] &quot;Panamera Turbo S/Exec/ST-Automatic (AM-S8)-8&quot;         
## [32] &quot;Panamera GTS-Automatic (AM-S8)-8&quot;                     
## [33] &quot;Panamera GTS ST-Automatic (AM-S8)-8&quot;                  
## [34] &quot;S8-Automatic (S8)-8&quot;                                  
## [35] &quot;DBS-Automatic (S8)-12&quot;                                
## [36] &quot;DB11 V12-Automatic (S8)-12&quot;                           
## [37] &quot;Challenger SRT-Automatic 8-spd-8&quot;                     
## [38] &quot;Challenger SRT-Manual 6-spd-8&quot;                        
## [39] &quot;Challenger Widebody-Manual 6-spd-8&quot;                   
## [40] &quot;Challenger SRT Widebody-Automatic 8-spd-8&quot;            
## [41] &quot;Challenger SRT Widebody-Manual 6-spd-8&quot;               
## [42] &quot;Charger SRT Widebody-Automatic 8-spd-8&quot;               
## [43] &quot;Shelby GT500 Mustang-Automatic (AM-S7)-8&quot;             
## 
## [[4]]
##  [1] &quot;Cooper Convertible-Automatic (AM-S7)-3&quot;                   
##  [2] &quot;Cooper Convertible-Manual 6-spd-3&quot;                        
##  [3] &quot;Cooper Hardtop 2 door-Automatic (AM-S7)-3&quot;                
##  [4] &quot;Cooper Hardtop 2 door-Manual 6-spd-3&quot;                     
##  [5] &quot;Cooper Hardtop 4 door-Automatic (AM-S7)-3&quot;                
##  [6] &quot;Cooper Hardtop 4 door-Manual 6-spd-3&quot;                     
##  [7] &quot;Cooper Countryman-Automatic (AM-S7)-3&quot;                    
##  [8] &quot;Cooper S Convertible-Automatic (AM-S7)-4&quot;                 
##  [9] &quot;Cooper S Hardtop 2 door-Automatic (AM-S7)-4&quot;              
## [10] &quot;Cooper S Hardtop 4 door-Automatic (AM-S7)-4&quot;              
## [11] &quot;John Cooper Works Hardtop 2 door-Automatic (S8)-4&quot;        
## [12] &quot;Cooper S Clubman-Automatic (AM-S7)-4&quot;                     
## [13] &quot;Legacy AWD-Automatic (AV-S8)-4&quot;                           
## [14] &quot;Malibu-Automatic (variable gear ratios)-4&quot;                
## [15] &quot;K5-Automatic (S8)-4&quot;                                      
## [16] &quot;K5 AWD-Automatic (S8)-4&quot;                                  
## [17] &quot;K5-Automatic (AM-S8)-4&quot;                                   
## [18] &quot;Spark ACTIV-Manual 5-spd-4&quot;                               
## [19] &quot;Soul-Automatic (variable gear ratios)-4&quot;                  
## [20] &quot;Soul Eco dynamics-Automatic (variable gear ratios)-4&quot;     
## [21] &quot;Soul-Automatic (AM-S7)-4&quot;                                 
## [22] &quot;Elantra-Automatic (AM-S7)-4&quot;                              
## [23] &quot;Elantra-Manual 6-spd-4&quot;                                   
## [24] &quot;Sonata-Automatic (S8)-4&quot;                                  
## [25] &quot;Sonata-Automatic (AM-S8)-4&quot;                               
## [26] &quot;Impreza 4-Door-Manual 5-spd-4&quot;                            
## [27] &quot;Impreza 4-Door-Automatic (AV-S7)-4&quot;                       
## [28] &quot;Impreza Sport 4-Door-Automatic (AV-S7)-4&quot;                 
## [29] &quot;Impreza 5-Door-Manual 5-spd-4&quot;                            
## [30] &quot;Impreza 5-Door-Automatic (AV-S7)-4&quot;                       
## [31] &quot;Impreza Sport 5-Door-Manual 5-spd-4&quot;                      
## [32] &quot;Impreza Sport 5-Door-Automatic (AV-S7)-4&quot;                 
## [33] &quot;Corolla XLE-Automatic (variable gear ratios)-4&quot;           
## [34] &quot;Corolla APEX-Manual 6-spd-4&quot;                              
## [35] &quot;TT Coupe quattro-Automatic (AM-S7)-4&quot;                     
## [36] &quot;A4 quattro-Automatic (AM-S7)-4&quot;                           
## [37] &quot;A5 Sportback quattro-Automatic (AM-S7)-4&quot;                 
## [38] &quot;Venue-Automatic (AV-S1)-4&quot;                                
## [39] &quot;Passat-Automatic (S6)-4&quot;                                  
## [40] &quot;330i Sedan-Automatic (S8)-4&quot;                              
## [41] &quot;S60 B5-Automatic (S8)-4&quot;                                  
## [42] &quot;A3 quattro-Automatic (AM-S7)-4&quot;                           
## [43] &quot;Corolla Hatchback-Manual 6-spd-4&quot;                         
## [44] &quot;GLI-Automatic (AM-S7)-4&quot;                                  
## [45] &quot;GLI-Manual 6-spd-4&quot;                                       
## [46] &quot;HR-V AWD-Automatic (variable gear ratios)-4&quot;              
## [47] &quot;HR-V AWD-Automatic (AV-S7)-4&quot;                             
## [48] &quot;HR-V FWD-Automatic (variable gear ratios)-4&quot;              
## [49] &quot;HR-V FWD-Automatic (AV-S7)-4&quot;                             
## [50] &quot;A3-Automatic (AM-S7)-4&quot;                                   
## [51] &quot;230i Coupe-Automatic (S8)-4&quot;                              
## [52] &quot;GTI-Manual 6-spd-4&quot;                                       
## [53] &quot;Camry-Automatic (S8)-6&quot;                                   
## [54] &quot;Camry TRD-Automatic (S8)-6&quot;                               
## [55] &quot;Camry XSE-Automatic (S8)-6&quot;                               
## [56] &quot;Camry AWD LE/SE-Automatic (S8)-4&quot;                         
## [57] &quot;Camry AWD XLE/XSE-Automatic (S8)-4&quot;                       
## [58] &quot;Camry LE/SE-Automatic (S8)-4&quot;                             
## [59] &quot;Camry XLE/XSE-Automatic (S8)-4&quot;                           
## [60] &quot;Avalon XLE-Automatic (S8)-6&quot;                              
## [61] &quot;Avalon-Automatic (S8)-6&quot;                                  
## [62] &quot;ES 350-Automatic (S8)-6&quot;                                  
## [63] &quot;ES 350 F Sport-Automatic (S8)-6&quot;                          
## [64] &quot;ES 250 AWD-Automatic (S8)-4&quot;                              
## [65] &quot;CLA250-Automatic (AM7)-4&quot;                                 
## [66] &quot;UX 200-Automatic (AV-S10)-4&quot;                              
## [67] &quot;GTI-Automatic (AM7)-4&quot;                                    
## [68] &quot;Civic 5Dr-Manual 6-spd-4&quot;                                 
## [69] &quot;Forte-Manual 6-spd-4&quot;                                     
## [70] &quot;Forte-Automatic (AM-S7)-4&quot;                                
## [71] &quot;Accord Sport/Touring-Automatic (AV-S7)-4&quot;                 
## [72] &quot;Accord Sport/Touring-Automatic (S10)-4&quot;                   
## [73] &quot;LC 500h-Automatic (AV-S10)-6&quot;                             
## [74] &quot;Altima-Automatic (variable gear ratios)-4&quot;                
## [75] &quot;Altima SR-Automatic (variable gear ratios)-4&quot;             
## [76] &quot;Altima AWD-Automatic (variable gear ratios)-4&quot;            
## [77] &quot;Altima AWD SR/Platinum-Automatic (variable gear ratios)-4&quot;
## [78] &quot;Altima SV/SL-Automatic (variable gear ratios)-4&quot;          
## [79] &quot;Altima SR-Automatic (AV-S8)-4&quot;                            
## [80] &quot;Civic 4Dr-Manual 6-spd-4&quot;                                 
## [81] &quot;Versa-Manual 5-spd-4&quot;                                     
## [82] &quot;Sentra SR-Automatic (variable gear ratios)-4&quot;             
## [83] &quot;C-HR-Automatic (AV-S7)-4&quot;                                 
## [84] &quot;3 4-Door 2WD-Automatic (S6)-4&quot;                            
## [85] &quot;3 4-Door 4WD-Automatic (S6)-4&quot;                            
## [86] &quot;3 5-Door 2WD-Manual 6-spd-4&quot;                              
## [87] &quot;3 5-Door 2WD-Automatic (S6)-4&quot;                            
## [88] &quot;3 5-Door 4WD-Automatic (S6)-4&quot;                            
## [89] &quot;Mustang-Automatic 10-spd-4&quot;                               
## [90] &quot;Mustang-Automatic (S10)-4&quot;                                
## [91] &quot;Rogue Sport AWD-Automatic (AV-S8)-4&quot;                      
## [92] &quot;Rogue Sport-Automatic (AV-S8)-4&quot;                          
## [93] &quot;C300-Automatic 9-spd-4&quot;                                   
## 
## [[5]]
##   [1] &quot;Stinger AWD-Automatic (S8)-4&quot;                     
##   [2] &quot;Stinger RWD-Automatic (S8)-4&quot;                     
##   [3] &quot;Cooper S Convertible-Manual 6-spd-4&quot;              
##   [4] &quot;Cooper S Hardtop 2 door-Manual 6-spd-4&quot;           
##   [5] &quot;Cooper S Hardtop 4 door-Manual 6-spd-4&quot;           
##   [6] &quot;John Cooper Works Hardtop 2 door-Manual 6-spd-4&quot;  
##   [7] &quot;X2 xDrive28i-Automatic (S8)-4&quot;                    
##   [8] &quot;X2 M35i-Automatic (S8)-4&quot;                         
##   [9] &quot;Cooper Countryman All4-Automatic (S8)-3&quot;          
##  [10] &quot;Cooper S Clubman-Manual 6-spd-4&quot;                  
##  [11] &quot;John Cooper Works Convertible-Automatic (S8)-4&quot;   
##  [12] &quot;840i Coupe-Automatic (S8)-6&quot;                      
##  [13] &quot;840i xDrive Coupe-Automatic (S8)-6&quot;               
##  [14] &quot;840i Convertible-Automatic (S8)-6&quot;                
##  [15] &quot;840i xDrive Convertible-Automatic (S8)-6&quot;         
##  [16] &quot;Veloster N-Manual 6-spd-4&quot;                        
##  [17] &quot;X2 sDrive28i-Automatic (S8)-4&quot;                    
##  [18] &quot;840i Gran Coupe-Automatic (S8)-6&quot;                 
##  [19] &quot;840i xDrive Gran Coupe-Automatic (S8)-6&quot;          
##  [20] &quot;Cooper S Countryman-Automatic (AM-S7)-4&quot;          
##  [21] &quot;Cooper S Countryman All4-Automatic (S8)-4&quot;        
##  [22] &quot;Cooper S Clubman All4-Automatic (S8)-4&quot;           
##  [23] &quot;John Cooper Works Clubman All4-Automatic (S8)-4&quot;  
##  [24] &quot;JCW Countryman All4-Automatic (S8)-4&quot;             
##  [25] &quot;740i Sedan-Automatic (S8)-6&quot;                      
##  [26] &quot;740i xDrive Sedan-Automatic (S8)-6&quot;               
##  [27] &quot;Malibu-Automatic 9-spd-4&quot;                         
##  [28] &quot;G70 AWD-Automatic (S8)-4&quot;                         
##  [29] &quot;G70 RWD-Automatic (S8)-4&quot;                         
##  [30] &quot;G80 AWD-Automatic (S8)-4&quot;                         
##  [31] &quot;G80 RWD-Automatic (S8)-4&quot;                         
##  [32] &quot;A5 Coupe quattro-Automatic (AM-S7)-4&quot;             
##  [33] &quot;A5 Cabriolet quattro-Automatic (AM-S7)-4&quot;         
##  [34] &quot;S5 Coupe-Automatic (S8)-6&quot;                        
##  [35] &quot;S5 Cabriolet-Automatic (S8)-6&quot;                    
##  [36] &quot;A4 S line quattro-Automatic (AM-S7)-4&quot;            
##  [37] &quot;S4-Automatic (S8)-6&quot;                              
##  [38] &quot;CT4-Automatic (S8)-4&quot;                             
##  [39] &quot;CT4 AWD-Automatic (S8)-4&quot;                         
##  [40] &quot;A6 quattro-Automatic (AM-S7)-4&quot;                   
##  [41] &quot;A5 Sportback S line quattro-Automatic (AM-S7)-4&quot;  
##  [42] &quot;S5 Sportback-Automatic (S8)-6&quot;                    
##  [43] &quot;A6 quattro-Automatic (AM-S7)-6&quot;                   
##  [44] &quot;A7 quattro-Automatic (AM-S7)-6&quot;                   
##  [45] &quot;A4 allroad quattro-Automatic (AM-S7)-4&quot;           
##  [46] &quot;430i xDrive Coupe-Automatic (S8)-4&quot;               
##  [47] &quot;430i xDrive Convertible-Automatic (S8)-4&quot;         
##  [48] &quot;M440i Coupe-Automatic (S8)-6&quot;                     
##  [49] &quot;M440i Convertible-Automatic (S8)-6&quot;               
##  [50] &quot;ILX-Automatic (AM-S8)-4&quot;                          
##  [51] &quot;228i xDrive Gran Coupe-Automatic (S8)-4&quot;          
##  [52] &quot;228i Gran Coupe-Automatic (S8)-4&quot;                 
##  [53] &quot;330i xDrive Sedan-Automatic (S8)-4&quot;               
##  [54] &quot;M440i xDrive Gran Coupe-Automatic (S8)-6&quot;         
##  [55] &quot;S60 B5 AWD-Automatic (S8)-4&quot;                      
##  [56] &quot;530i Sedan-Automatic (S8)-4&quot;                      
##  [57] &quot;540i xDrive Sedan-Automatic (S8)-6&quot;               
##  [58] &quot;S90 B6 AWD-Automatic (S8)-4&quot;                      
##  [59] &quot;V60CC T5 AWD-Automatic (S8)-4&quot;                    
##  [60] &quot;A6 Allroad quattro-Automatic (AM-S7)-6&quot;           
##  [61] &quot;V90CC B6 AWD-Automatic (S8)-4&quot;                    
##  [62] &quot;Camaro-Automatic (S8)-4&quot;                          
##  [63] &quot;CT5-Automatic (S10)-4&quot;                            
##  [64] &quot;CT5 AWD-Automatic (S10)-4&quot;                        
##  [65] &quot;S3-Automatic (AM-S7)-4&quot;                           
##  [66] &quot;Camaro-Automatic (S10)-6&quot;                         
##  [67] &quot;Camaro-Manual 6-spd-6&quot;                            
##  [68] &quot;CT4-Automatic (S10)-4&quot;                            
##  [69] &quot;CT4 V-Automatic (S10)-4&quot;                          
##  [70] &quot;CT4 AWD-Automatic (S10)-4&quot;                        
##  [71] &quot;CT4 V AWD-Automatic (S10)-4&quot;                      
##  [72] &quot;BRZ-Automatic (S6)-4&quot;                             
##  [73] &quot;TTS Coupe quattro-Automatic (AM-S7)-4&quot;            
##  [74] &quot;M240i xDrive Coupe-Automatic (S8)-6&quot;              
##  [75] &quot;430i Coupe-Automatic (S8)-4&quot;                      
##  [76] &quot;430i Convertible-Automatic (S8)-4&quot;                
##  [77] &quot;M440i xDrive Coupe-Automatic (S8)-6&quot;              
##  [78] &quot;M440i xDrive Convertible-Automatic (S8)-6&quot;        
##  [79] &quot;M235i xDrive Gran Coupe-Automatic (S8)-4&quot;         
##  [80] &quot;M340i Sedan-Automatic (S8)-6&quot;                     
##  [81] &quot;M340i xDrive Sedan-Automatic (S8)-6&quot;              
##  [82] &quot;430i Gran Coupe-Automatic (S8)-4&quot;                 
##  [83] &quot;530i xDrive Sedan-Automatic (S8)-4&quot;               
##  [84] &quot;540i Sedan-Automatic (S8)-6&quot;                      
##  [85] &quot;A220 4matic-Automatic (AM7)-4&quot;                    
##  [86] &quot;A220-Automatic (AM7)-4&quot;                           
##  [87] &quot;CLA250 4matic-Automatic (AM7)-4&quot;                  
##  [88] &quot;Elantra N-Automatic (AM-S8)-4&quot;                    
##  [89] &quot;Elantra N-Manual 6-spd-4&quot;                         
##  [90] &quot;RC 350-Automatic (S8)-6&quot;                          
##  [91] &quot;RC 300-Automatic (S8)-4&quot;                          
##  [92] &quot;IS 350-Automatic (S8)-6&quot;                          
##  [93] &quot;IS 300-Automatic (S8)-4&quot;                          
##  [94] &quot;Q50-Automatic (S7)-6&quot;                             
##  [95] &quot;TT RS Coupe-Automatic (AM-S7)-5&quot;                  
##  [96] &quot;GR 86-Automatic (S6)-4&quot;                           
##  [97] &quot;AMG A35 4matic-Automatic (AM7)-4&quot;                 
##  [98] &quot;TLX AWD-Automatic (S10)-4&quot;                        
##  [99] &quot;TLX FWD-Automatic (S10)-4&quot;                        
## [100] &quot;TLX AWD A-SPEC-Automatic (S10)-4&quot;                 
## [101] &quot;TLX FWD A-SPEC-Automatic (S10)-4&quot;                 
## [102] &quot;CLS450 4matic-Automatic 9-spd-6&quot;                  
## [103] &quot;E450 4matic-Automatic 9-spd-6&quot;                    
## [104] &quot;AMG GLA35 4matic-Automatic (AM8)-4&quot;               
## [105] &quot;E450 4matic All-Terrain (wagon)-Automatic 9-spd-6&quot;
## [106] &quot;E450 Coupe-Automatic 9-spd-6&quot;                     
## [107] &quot;E450 4matic Coupe-Automatic 9-spd-6&quot;              
## [108] &quot;E450 Convertible-Automatic 9-spd-6&quot;               
## [109] &quot;E450 4matic Convertible-Automatic 9-spd-6&quot;        
## [110] &quot;XF P250-Automatic (S8)-4&quot;                         
## [111] &quot;XF P250 AWD-Automatic (S8)-4&quot;                     
## [112] &quot;XF P300 AWD-Automatic (S8)-4&quot;                     
## [113] &quot;E350 4matic-Automatic 9-spd-4&quot;                    
## [114] &quot;Golf-R-Automatic (AM7)-4&quot;                         
## [115] &quot;Golf-R-Manual 6-spd-4&quot;                            
## [116] &quot;AMG CLA35 4matic-Automatic (AM7)-4&quot;               
## [117] &quot;E350-Automatic 9-spd-4&quot;                           
## [118] &quot;X1 xDrive28i-Automatic (S8)-4&quot;                    
## [119] &quot;S500 4matic-Automatic 9-spd-6&quot;                    
## [120] &quot;AMG E53 4matic Plus Coupe-Automatic 9-spd-6&quot;      
## [121] &quot;AMG E53 4matic Plus-Automatic 9-spd-6&quot;            
## [122] &quot;X1 sDrive28i-Automatic (S8)-4&quot;                    
## [123] &quot;C300 4matic Coupe-Automatic 9-spd-4&quot;              
## [124] &quot;C300 4matic Convertible-Automatic 9-spd-4&quot;        
## [125] &quot;Maxima-Automatic (AV-S7)-6&quot;                       
## [126] &quot;Murano FWD-Automatic (AV-S7)-6&quot;                   
## [127] &quot;Murano AWD-Automatic (AV-S7)-6&quot;                   
## [128] &quot;C300 Convertible-Automatic 9-spd-4&quot;               
## [129] &quot;LS 500h AWD-Automatic (AV-S10)-6&quot;                 
## [130] &quot;C300 Coupe-Automatic 9-spd-4&quot;                     
## [131] &quot;Giulia-Automatic 8-spd-4&quot;                         
## [132] &quot;Giulia AWD-Automatic 8-spd-4&quot;                     
## [133] &quot;Mustang-Manual 6-spd-4&quot;                           
## [134] &quot;Mustang HO Coupe-Manual 6-spd-4&quot;                  
## [135] &quot;Mustang HO Coupe-Automatic (S10)-4&quot;               
## [136] &quot;Mustang HO Convertible-Manual 6-spd-4&quot;            
## [137] &quot;Mustang Convertible-Automatic 10-spd-4&quot;           
## [138] &quot;Mustang Convertible-Manual 6-spd-4&quot;               
## [139] &quot;Mustang Convertible-Automatic (S10)-4&quot;            
## [140] &quot;Mustang HO Convertible-Automatic (S10)-4&quot;         
## [141] &quot;AMG CLA45 4matic-Automatic (AM8)-4&quot;               
## [142] &quot;Challenger-Automatic 8-spd-6&quot;                     
## [143] &quot;Challenger AWD-Automatic 8-spd-6&quot;                 
## [144] &quot;300-Automatic 8-spd-6&quot;                            
## [145] &quot;300 AWD-Automatic 8-spd-6&quot;                        
## [146] &quot;Charger-Automatic 8-spd-6&quot;                        
## [147] &quot;Charger AWD-Automatic 8-spd-6&quot;                    
## [148] &quot;Arteon-Automatic (AM7)-4&quot;                         
## [149] &quot;Arteon 4motion-Automatic (AM7)-4&quot;                 
## [150] &quot;RS3-Automatic (AM-S7)-5&quot;                          
## [151] &quot;C300 4matic-Automatic 9-spd-4&quot;</code></pre>
<p>Just as a visual confirmation, let’s see what the ranges of the MPG is for these groups.</p>
<p>It’s quite clear that cluster 5 are the highest MPG vehicles, cluster 4 are the low MPG vehicles and include the Rolls Royce models.
Kmeans is one of easiest clustering algorithm and there are many other unsupervised learning algorithms that will perform clustering. More on those in future posts.</p>
<pre class="r"><code>ggplot(data, aes(x=k$cluster, y = comb08)) +
  geom_boxplot(aes(group = k$cluster, fill = as.factor(k$cluster)), show.legend = FALSE) +
  scale_fill_brewer(palette = &quot;Set1&quot;) +
  labs(title = &quot;Clusters and Avg MPG&quot;, x = &quot;Cluster&quot;, y = &quot;MPG&quot;) </code></pre>
<p><img src="https://nitinahuja.github.io/post/2018-11-21-vehicle-fuel-economy_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
</div>
</div>
<div id="conclusion" class="section level2">
<h2>Conclusion</h2>
<p>In conclusion, we can say that the automotive world is undergoing a sea change and these are exciting times, it remains to be seen which fuel types dominate in the coming years; it’s clear that Gasoline as a fuel has had a great run and is by no means done.</p>
</div>
</div>

              


            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">TAGGED IN</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://nitinahuja.github.io/tags/eda/">EDA</a>

  <a class="tag tag--primary tag--small" href="https://nitinahuja.github.io/tags/machine-learning/">machine learning</a>

                  </div>
                
              
            
            
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://nitinahuja.github.io/2021/generative-art/" data-tooltip="Generative Art" aria-label="NEXT: Generative Art">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://nitinahuja.github.io/2017/nps-exploratory-text-analysis/" data-tooltip="NPS - Exploratory analysis in R - Text analysis" aria-label="PREVIOUS: NPS - Exploratory analysis in R - Text analysis">
          
              <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="Back to top">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


            
  


          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 Nitin Ahuja. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
<div class="post-actions-wrap">
  <nav >
    <ul class="post-actions post-action-nav">
      
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://nitinahuja.github.io/2021/generative-art/" data-tooltip="Generative Art" aria-label="NEXT: Generative Art">
          
              <i class="fa fa-angle-left"></i>
              <span class="hide-xs hide-sm text-small icon-ml">NEXT</span>
            </a>
        </li>
        <li class="post-action">
          
            <a class="post-action-btn btn btn--default tooltip--top" href="https://nitinahuja.github.io/2017/nps-exploratory-text-analysis/" data-tooltip="NPS - Exploratory analysis in R - Text analysis" aria-label="PREVIOUS: NPS - Exploratory analysis in R - Text analysis">
          
              <span class="hide-xs hide-sm text-small icon-mr">PREVIOUS</span>
              <i class="fa fa-angle-right"></i>
            </a>
        </li>
      
    </ul>
  </nav>
<ul class="post-actions post-action-share" >
  
    <li class="post-action hide-lg hide-md hide-sm">
      <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
        <i class="fa fa-share-alt" aria-hidden="true"></i>
      </a>
    </li>
    
  
  
  <li class="post-action">
    
      <a class="post-action-btn btn btn--default" href="#top" aria-label="Back to top">
      <i class="fa fa-arrow-up" aria-hidden="true"></i>
    
    </a>
  </li>
</ul>
</div>


      </div>
      

    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-times"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.gravatar.com/avatar/2a9756e94950a1dabeb63034558f787d?s=110" alt="Author&#39;s picture" />
    
    <h4 id="about-card-name">Nitin Ahuja</h4>
    
      <div id="about-card-bio">A programmer&rsquo;s viewpoint</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Forever learning
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker-alt"></i>
        <br/>
        California
      </div>
    
  </div>
</div>

    

    
  
    
      
      <div id="cover" style="background-image:url('https://nitinahuja.github.io/images/cover.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha512-uURl+ZXMBrF4AwGaWmEetzrd+J5/8NRkWAvJx5sbPSSuOb0bZLqf+tOzniObO00BjHa/dD7gub9oCGMLPQHtQA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>



<script src="https://nitinahuja.github.io/js/script-yqzy9wdlzix4lbbwdnzvwx3egsne77earqmn73v9uno8aupuph8wfguccut.min.js"></script>






     
  <script>
  $(document).ready(function () {
    window.initializeCodeFolding("show" === "hide");
  });
  </script>
  <script src="https://nitinahuja.github.io/js/codefolding.js"></script>

    
  </body>
</html>

